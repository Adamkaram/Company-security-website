if (self.CavalryLogger) { CavalryLogger.start_js(["5vyJ+"]); }

__d("CometUFILiveTypingBroadcastMutation_StartMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStartTypingResponsePayload",kind:"LinkedField",name:"feedback_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:b},params:{id:"3548002498548309",metadata:{},name:"CometUFILiveTypingBroadcastMutation_StartMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStopTypingResponsePayload",kind:"LinkedField",name:"feedback_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:b},params:{id:"3863977267006336",metadata:{},name:"CometUFILiveTypingBroadcastMutation_StopMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation",["ChannelClientID","CometRelay","CometUFILiveTypingBroadcastMutation_StartMutation.graphql","CometUFILiveTypingBroadcastMutation_StopMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g!==void 0?g:g=b("CometUFILiveTypingBroadcastMutation_StartMutation.graphql"),j=h!==void 0?h:h=b("CometUFILiveTypingBroadcastMutation_StopMutation.graphql");function a(a,c,d,e){d={input:{feedback_id:d.feedbackID,session_id:b("ChannelClientID").getID()}};var f;e={onCompleted:e,variables:d};a?f=b("CometRelay").commitMutation(c,babelHelpers["extends"]({mutation:i},e)):f=b("CometRelay").commitMutation(c,babelHelpers["extends"]({mutation:j},e));return{dispose:function(){f&&f.dispose(),f=null}}}c=a.bind(null,!0);f.start=c;d=a.bind(null,!1);f.stop=d}),null);
__d("destroyOnUnload",["Run"],(function(a,b,c,d,e,f){e.exports=a;function a(a){return b("Run").onLeave(a)}}),null);
__d("AbstractCommentLiveTypingPublisher",["destroyOnUnload","gkx"],(function(a,b,c,d,e,f){"use strict";var g=10*1e3,h=10*1e3,i=200;a=function(){function a(){var a=this;this.$1=null;this.$2=null;this.$3=-1;b("gkx")("708253")||b("destroyOnUnload")(this.destroy.bind(this));window.addEventListener&&window.addEventListener("unload",function(){a.destroy()})}var c=a.prototype;c.destroy=function(){this.$4(),this.$5(),this.$6()};c.handleStartEvent=function(){this.$7()||this.$8(),this.$9()};c.handleStopEvent=function(){this.$4()};c.publishStartEvent=function(){throw new Error("publishStartEvent should be overridden by subclass")};c.publishStopEvent=function(){throw new Error("publishStopEvent should be overridden by subclass")};c.$7=function(){return!!this.$1};c.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};c.$6=function(){this.$1&&(clearTimeout(this.$1),this.$1=null)};c.$9=function(){var a=this,b=Date.now(),c=this.$3;b>c+i&&(this.$3=b,this.$5(),this.$2=setTimeout(function(){a.$4()},h))};c.$4=function(){this.$7()&&(this.publishStopEvent(),this.$6()),this.$5()};c.$8=function(){var a=this;this.publishStartEvent();this.$6();this.$1=setTimeout(function(){a.$8()},g)};return a}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastPublisher",["AbstractCommentLiveTypingPublisher","CometUFILiveTypingBroadcastMutation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d){var e;e=a.call(this)||this;e.$CometUFILiveTypingBroadcastPublisher1=b;e.$CometUFILiveTypingBroadcastPublisher2=c;e.$CometUFILiveTypingBroadcastPublisher3=null;e.$CometUFILiveTypingBroadcastPublisher4=null;e.$CometUFILiveTypingBroadcastPublisher5=d;return e}var d=c.prototype;d.destroy=function(){this.$CometUFILiveTypingBroadcastPublisher3&&this.$CometUFILiveTypingBroadcastPublisher3.dispose(),this.$CometUFILiveTypingBroadcastPublisher4&&this.$CometUFILiveTypingBroadcastPublisher4.dispose()};d.handleStartEvent=function(){a.prototype.handleStartEvent.call(this)};d.handleStopEvent=function(){a.prototype.handleStopEvent.call(this)};d.publishStartEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher3)return;this.$CometUFILiveTypingBroadcastPublisher4&&(this.$CometUFILiveTypingBroadcastPublisher4.dispose(),this.$CometUFILiveTypingBroadcastPublisher4=null);var c=function(){a.$CometUFILiveTypingBroadcastPublisher3=null};this.$CometUFILiveTypingBroadcastPublisher3=b("CometUFILiveTypingBroadcastMutation").start(this.$CometUFILiveTypingBroadcastPublisher5,{actorID:this.$CometUFILiveTypingBroadcastPublisher1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher2},c)};d.publishStopEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher4)return;this.$CometUFILiveTypingBroadcastPublisher3&&(this.$CometUFILiveTypingBroadcastPublisher3.dispose(),this.$CometUFILiveTypingBroadcastPublisher3=null);var c=function(){a.$CometUFILiveTypingBroadcastPublisher4=null};this.$CometUFILiveTypingBroadcastPublisher4=b("CometUFILiveTypingBroadcastMutation").stop(this.$CometUFILiveTypingBroadcastPublisher5,{actorID:this.$CometUFILiveTypingBroadcastPublisher1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher2},c)};return c}(b("AbstractCommentLiveTypingPublisher"));e.exports=a}),null);
__d("getUpgradedCometUFILiveTypingBroadcastComposerPlugin",["CometUFILiveTypingBroadcastPublisher","FBLogger","JSScheduler","React","isCometUFIComposerStateEmpty"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a,b){if(a.__type==="plain-text"&&b.__type==="plain-text")return a.text!==b.text;return a.__type==="editor-state-based"&&b.__type==="editor-state-based"?a.editorState.getCurrentContent().getBlockMap()!==b.editorState.getCurrentContent().getBlockMap():!1}function a(a){var c;c=(c=a.feedback.viewer_actor)==null?void 0:c.id;var d=a.feedback.id;a=a.relayEnvironment;if(c==null||d==null){b("FBLogger")("ufi2").warn("Failed to fetch `feedback.viewer_actor.id` or `feedback.id` for use in the UFI live typing broadcast plugin. The live typing broadcast is disabled for this UFI.");return{componentWillUnmount:function(){},onBootload:function(a,b,c){},render:function(a,b,c){a.subscriptionsHandler;b=babelHelpers.objectWithoutPropertiesLoose(a,["subscriptionsHandler"]);return g.jsx(c,babelHelpers["extends"]({},b))}}}var e=new(b("CometUFILiveTypingBroadcastPublisher"))(c,d,a);return{componentWillUnmount:function(){e!=null&&e.destroy()},onBootload:function(a,c,d){if(!d)return;c=a.inputProps.composerState;b("isCometUFIComposerStateEmpty")(c)||e.handleStartEvent()},render:function(a,c,d){a.subscriptionsHandler;c=babelHelpers.objectWithoutPropertiesLoose(a,["subscriptionsHandler"]);return g.jsx(d,babelHelpers["extends"]({},c,{inputProps:babelHelpers["extends"]({},a.inputProps,{onBlur:function(b){a.inputProps.onBlur&&a.inputProps.onBlur(b);if(b.isDefaultPrevented())return;e.handleStopEvent()},onCommit:function(){var b;e.handleStopEvent();return(b=a.inputProps).onCommit.apply(b,arguments)},onComposerStateChange:function(c){return a.inputProps.onComposerStateChange(function(a){var d=babelHelpers["extends"]({},a,c(a));h(a.inputState,d.inputState)&&b("JSScheduler").defer(function(){e.handleStartEvent()});return d})}})}))}}}}),null);