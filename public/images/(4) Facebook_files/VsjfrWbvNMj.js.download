if (self.CavalryLogger) { CavalryLogger.start_js(["I2WGv"]); }

__d("XCometNotificationsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/notifications/",Object.freeze({}),void 0);c=a;e.exports=c}),null);
__d("CometNotificationsDropdownMenuButton_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsDropdownMenuButton_notification",selections:[{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsDropdownMenu_notification"}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItemAttachment_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItemAttachment_notification",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{condition:"isToast",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemLiveVideoAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"LiveVideoNotificationAttachment",abstractKey:null}]},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null}],storageKey:null}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItem_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometNotificationsListItem_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_notification",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"target_viewer",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_viewer_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsDropdownMenuButton_notification"},{args:[{kind:"Variable",name:"isToast",variableName:"isToast"}],kind:"FragmentSpread",name:"CometNotificationsListItemAttachment_notification"},{args:null,kind:"FragmentSpread",name:"useCometNotificationURL_notification"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],type:"Notification",abstractKey:null}}();e.exports=a}),null);
__d("CometNotificationsMarkReadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationMarkReadResponsePayload",kind:"LinkedField",name:"notification_mark_read",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsMarkReadMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsMarkReadMutation",selections:b},params:{id:"2798957586856236",metadata:{},name:"CometNotificationsMarkReadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("getCometNotificationURL_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getCometNotificationURL_notification"};e.exports=a}),null);
__d("useCometNotificationURL_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometNotificationURL_notification",selections:[{kind:"InlineDataFragmentSpread",name:"getCometNotificationURL_notification",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("useNotificationsImpressionLogger",["React","gkx","requireDeferred","usePartialViewImpression"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("requireDeferred")("Banzai");function a(a){var c=a.actorId,d=a.loggerContext,e=a.notifId,f=a.trackingData;a=g.useCallback(function(a){a=a.visibleDuration;var b=babelHelpers["extends"]({},f,{notification_data:{duration:a,logger_context:d,notif_id:e,user_id:c},ref:"www_tab"});h.onReady(function(a){a.post("notif_impression_events",b)})},[f,d,e,c]);a=b("usePartialViewImpression")({onImpressionEnd:a});return[a,null]}}),null);
__d("CometNotificationsListItemSeenContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(function(){});e.exports=c}),null);
__d("CometNotificationsDropdownMenuButton.react",["fbt","CometListCellHoverButton.react","CometRelay","JSResource","React","requireDeferred","CometNotificationsDropdownMenuButton_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("requireDeferred")("Banzai"),k=b("JSResource")("CometNotificationsDropdownMenu.react").__setRef("CometNotificationsDropdownMenuButton.react"),l="open_options_menu";function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometNotificationsDropdownMenuButton_notification.graphql"),a.notification),d=a.userId,e=i.useCallback(function(){j.onReady(function(a){a.post(l,{notification_data:{alert_id:c==null?void 0:c.notif_id,logger_context:"www_tab",notif_type:c==null?void 0:c.notif_type,user_id:d},ref:"www_tab"})})},[c,d]);return i.jsx(b("CometListCellHoverButton.react"),{hidden:a.hidden,label:g._("Options for this notification"),onFocusChange:a.onFocusChange,onHoverChange:a.onHoverChange,onMenuStateChange:a.onMenuStateChange,onPress:e,popoverProps:{notification:c},popoverResource:k,popoverTriggerType:"lazy",popoverType:"menu"})}}),null);
__d("ProfilePlusAdminPermissionsConstants",[],(function(a,b,c,d,e,f){"use strict";f.getInitialNumOfAdminsToShow=a;var g=12,h=6;function a(a){return a==="can_have_limited_access_roles_only"?g:h}b=["Settings","Permissions","Content","Messages","Community Activity","Ads","Insights"];f.FULL_ACCESS_PERMISSIONS=b;c="https://www.facebook.com/business/help/582754542592549";f.LEARN_MORE_ABOUT_SHARED_PROFILE_LINK=c;d="https://www.facebook.com/policies/pages_groups_events/";f.PAGE_TERMS_LINK=d;e="https://www.facebook.com/business/help/294498964994409#tools";f.VIEW_TOOLS_LINK=e;a="https://www.facebook.com/business/help/294498964994409";f.LEARN_MORE_ABOUT_RESTRICTED_ROLES=a}),null);
__d("CometCrossProfileNotificationStrings",["fbt","CometLink.react","ProfilePlusAdminPermissionsConstants","React"],(function(a,b,c,d,e,f,g){"use strict";f.getCAAProfileSwitchDialogBody=a;f.getCAAProfileSwitchDialogTitle=c;f.getCAAProfileSwitchDialogConfirmText=d;f.getCAAProfileSwitchDialogCancelText=e;f.getCAAProfileSwitchErrorDialogTitle=i;f.getLARProfileSwitchDialogTitleText=j;f.getLARProfileSwitchDialogHeadlineText=k;f.getLARProfileSwitchDialogLearnMoreLink=l;f.getLARProfileSwitchDialogCreatorStudioTitle=m;f.getLARProfileSwitchDialogFacebookBusinessSuiteTitle=n;f.getLARProfileSwitchDialogBusinessManagerTitle=o;var h=b("React");function a(a){return g._("This notification is from your Page {=[additional profile's name]}. Switch to your Page to view this notification and start using Facebook as your Page. You can switch back to your profile anytime.",[g._param("=[additional profile's name]",h.jsx("strong",{children:g._("{additional profile's name}",[g._param("additional profile's name",a)])}))])}function c(a){return g._("Switch to {additional profile's name}",[g._param("additional profile's name",a)])}function d(){return g._("Switch Now")}function e(){return g._("Cancel")}function i(){return g._("Failed to switch to your Page")}function j(){return g._("Go to Tools")}function k(a){return g._("You can comment and interact as {=[additional profile's name]} with tools.",[g._param("=[additional profile's name]",h.jsx("strong",{children:g._("{additional profile's name}",[g._param("additional profile's name",a)])}))])}function l(){return g._("{Link to a help center article that describes more information about limited access roles.}",[g._param("Link to a help center article that describes more information about limited access roles.",h.jsx(b("CometLink.react"),{href:b("ProfilePlusAdminPermissionsConstants").LEARN_MORE_ABOUT_RESTRICTED_ROLES,target:"_blank",children:"Learn More"}))])}function m(){return g._("{=Creator Studio}",[g._param("=Creator Studio",h.jsx("strong",{children:g._("Creator Studio")}))])}function n(){return g._("{=Facebook Business Suite}",[g._param("=Facebook Business Suite",h.jsx("strong",{children:g._("Facebook Business Suite")}))])}function o(){return g._("{=Business Manager}",[g._param("=Business Manager",h.jsx("strong",{children:g._("Business Manager")}))])}}),null);
__d("CometNotificationsListItemAttachment.react",["CometErrorBoundary.react","CometNotificationsTimestamp.react","CometRelay","React","CometNotificationsListItemAttachment_notification.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.date,d=a.notification,e=a.notificationsTimestamp;a=a.onPress;return h.jsx(b("CometErrorBoundary.react"),{children:h.jsx(i,{date:c,notification:d,notificationsTimestamp:e,onPress:a})})}function i(a){var c=a.date,d=a.notification,e=a.notificationsTimestamp,f=a.onPress;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometNotificationsListItemAttachment_notification.graphql"),d);d=a.notif_attachments;if(d==null)return null;a=d.map(function(a,d){return h.jsx(b("CometRelay").MatchContainer,{match:a,props:{date:c,notifAttachments:a,notificationsTimestamp:e,onPress:f}},d)}).filter(Boolean);return a.length===0?null:a}}),null);
__d("CometNotificationsMarkReadMutation",["CometNotificationsMutationLogger","CometRelay","CometNotificationsMarkReadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("CometNotificationsMarkReadMutation.graphql");function a(a,c,d,e){d=b("CometNotificationsMutationLogger").notificationMarkAsReadStart(d);var f=d.logOnError,g=d.logOnSuccess;return b("CometRelay").commitMutation(a,{mutation:h,onCompleted:function(){g(),e&&e.onSuccess()},onError:function(a){f(a),e&&e.onError()},optimisticResponse:{notification_mark_read:{notification:{id:c.input.notif_id,seen_state:"SEEN_AND_READ"}}},variables:c})}}),null);
__d("ProfilePlusCrossProfileNotificationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744235");c=b("FalcoLoggerInternal").create("profile_plus_cross_profile_notification",a);e.exports=c}),null);
__d("UntruncatedNotificationsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:UntruncatedNotificationsLoggerConfig")}),null);
__d("cometNotificationsListItemIcon",["ix","ImageIconSource","asset","getReactionSVGSource"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;function h(a){switch(a){case"bar_chart":return new(b("ImageIconSource"))(g("958828"),28,28);case"games":return new(b("ImageIconSource"))(g("958821"),28,28);case"cake":return new(b("ImageIconSource"))(g("958833"),28,28);case"breaking_news":return new(b("ImageIconSource"))(g("958831"),28,28);case"briefcase":return new(b("ImageIconSource"))(g("958832"),28,28);case"politics":return new(b("ImageIconSource"))(g("958871"),28,28);case"comment":return new(b("ImageIconSource"))(g("958852"),28,28);case"safety_check":return new(b("ImageIconSource"))(g("958876"),28,28);case"direct":return new(b("ImageIconSource"))(g("958854"),28,28);case"pencil_checkmark":return new(b("ImageIconSource"))(g("958865"),28,28);case"calendar":return new(b("ImageIconSource"))(g("958835"),28,28);case"app_facebook":return new(b("ImageIconSource"))(g("958818"),28,28);case"badge_heart":return new(b("ImageIconSource"))(g("958827"),28,28);case"posts":return new(b("ImageIconSource"))(g("958873"),28,28);case"friend_add":return new(b("ImageIconSource"))(g("958857"),28,28);case"friends":return new(b("ImageIconSource"))(g("958858"),28,28);case"fundraiser":return new(b("ImageIconSource"))(g("958859"),28,28);case"high_five_hands":return new(b("ImageIconSource"))(g("958861"),28,28);case"heart_lock":return new(b("ImageIconSource"))(g("1250959"),28,28);case"group":return new(b("ImageIconSource"))(g("958860"),28,28);case"relationship":return new(b("ImageIconSource"))(g("958875"),28,28);case"camcorder_live":return new(b("ImageIconSource"))(g("958836"),28,28);case"caution_triangle":return new(b("ImageIconSource"))(g("958837"),28,28);case"marketplace":return new(b("ImageIconSource"))(g("894424"),28,28);case"circle_3":return new(b("ImageIconSource"))(g("958838"),28,28);case"app_pages":return new(b("ImageIconSource"))(g("958824"),28,28);case"photo":return new(b("ImageIconSource"))(g("958867"),28,28);case"pin":return new(b("ImageIconSource"))(g("958868"),28,28);case"poke":return new(b("ImageIconSource"))(g("958870"),28,28);case"profile_circle":return new(b("ImageIconSource"))(g("958874"),28,28);case"comment_star":return new(b("ImageIconSource"))(g("958851"),28,28);case"bookmark":return new(b("ImageIconSource"))(g("958830"),28,28);case"shield":return new(b("ImageIconSource"))(g("958878"),28,28);case"share":return new(b("ImageIconSource"))(g("958877"),28,28);case"tag":return new(b("ImageIconSource"))(g("958882"),28,28);case"topics":return new(b("ImageIconSource"))(g("958883"),28,28);case"arrows_up_down":return new(b("ImageIconSource"))(g("958826"),28,28);case"play_circle":return new(b("ImageIconSource"))(g("958869"),28,28);case"watch_tv":return new(b("ImageIconSource"))(g("958885"),28,28);case"polls":return new(b("ImageIconSource"))(g("958872"),28,28);case"spark_ar":return new(b("ImageIconSource"))(g("1079479"),28,28);case"app_rooms":return new(b("ImageIconSource"))(g("1395467"),28,28);case"notif_messages_question_live":return new(b("ImageIconSource"))(g("1495236"),28,28);case"card":return new(b("ImageIconSource"))(g("1289629"),28,28);case"shops":return new(b("ImageIconSource"))(g("1686153"),28,28);default:case"default":return new(b("ImageIconSource"))(g("958829"),28,28)}}function a(a,c){if(c!=null){c=b("getReactionSVGSource")(c);if(c!=null)return new(b("ImageIconSource"))(c,28,28)}return a!=null?h(a):null}}),null);
__d("getCometNotificationURL",["CometRelay","absoluteToRelative","getCometNotificationURL_notification.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").readInlineData(g!==void 0?g:g=b("getCometNotificationURL_notification.graphql"),a);a=a==null?void 0:a.url;return a==null?null:window.location.hostname.startsWith("www.facebook.com")?a:a.includes("developers.facebook.com")?a:b("absoluteToRelative")(a)}}),null);
__d("useCometNotificationURL",["CometRelay","getCometNotificationURL","useCometNotificationURL_notification.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometNotificationURL_notification.graphql"),a);return b("getCometNotificationURL")(a)}}),null);
__d("useScrollToNotif",["CometRouteMatch","React","XCometNotificationsControllerRouteBuilder"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){var c,d=(c=b("CometRouteMatch")).useCurrentRouteMatcher(c.MatchFunctions.urlMatchFunction);c=c.useHostedRouteMatcher(c.MatchFunctions.urlMatchFunction);c=a!=null?c(a):!1;a=d(b("XCometNotificationsControllerRouteBuilder").buildURL({}).toString());d=g.useRef(c&&!a);return[c,d]};f.useScrollToNotif=a}),null);
__d("CometNotificationsListItem.react",["fbt","CometBadge.react","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFocusTableContext","CometNotificationsDropdownMenuButton.react","CometNotificationsListItemAttachment.react","CometNotificationsListItemSeenContext","CometNotificationsMarkReadMutation","CometNotificationsTimestamp.react","CometPressable.react","CometRelay","CometTextWithEntitiesRelay.react","FocusWithinHandler.react","React","TetraAccessoryListCell.react","TetraIcon.react","UntruncatedNotificationsTypedLoggerLite","requireDeferred","cometNotificationsListItemIcon","gkx","goForceFullPageRedirectTo","mergeRefs","qex","scrollIntoView","stylex","useCometPreloader","useCometRouterDispatcher","useMenuButtonVisibilityState","useNotificationsImpressionLogger","useScrollToNotif","useVisibilityObserver","useCometNotificationURL","useCometConfirmationDialog","promiseDone","JSResource","useCodedErrorDialog","CometCrossProfileNotificationStrings","useCometLazyDialog","JSResourceForInteraction","ProfilePlusCrossProfileNotificationFalcoEvent","CometNotificationsListItem_actor.graphql","CometNotificationsListItem_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React"),k=b("UntruncatedNotificationsTypedLoggerLite").log,l=b("JSResourceForInteraction")("CometCrossProfileNotificationsLARConfirmationDialog.react").__setRef("CometNotificationsListItem.react"),aa=b("JSResource")("CometProfileSwitchMutation").__setRef("CometNotificationsListItem.react"),ba=0,ca="notif_click_events",da=b("requireDeferred")("Banzai"),ea={"*":[b("CometBoldedEntityRenderer")]},fa=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()],ga=h!==void 0?h:h=b("CometNotificationsListItem_actor.graphql"),ha=i!==void 0?i:i=b("CometNotificationsListItem_notification.graphql");function a(a){var c=a.actor,d=a.isFromPageNotification,e=a.isNotificationsRoute,f=e===void 0?!1:e;e=a.loggerContext;var h=e===void 0?"www_tab":e;e=a.notification;var i=a.onClick,m=a.onClose,n=a.replace,o=a.routeTarget,p=a.showSelectedState,ia=p===void 0?!1:p,q=a.trackingData;p=b("CometRelay").useFragment(ga,c);var r=b("CometRelay").useFragment(ha,e),s=b("useCometNotificationURL")(r);a=r.body;c=r.creation_time;var t=r.id,u=r.navigation_endpoint,v=r.notif_id;e=r.notif_image;var w=r.notif_type,x=r.seen_state,y=r.tracking,z=j.useRef(null),A=p==null?void 0:p.id,B=(p=d)!=null?p:!1,C=(u==null?void 0:u.target_viewer_type)==="MP_CORE_APP_ADMIN"&&b("gkx")("1701726"),D=(u==null?void 0:u.target_viewer_type)==="MP_LIMITED_ACCESS_ROLE"&&b("gkx")("1734825"),E=u==null?void 0:(d=u.target_viewer)==null?void 0:d.name,F=u==null?void 0:(p=u.target_viewer)==null?void 0:p.id;d=babelHelpers["extends"]({navigation_source:"notifications_click"},w!=null?{notif_type:w}:null);p=j.useMemo(function(){var a;return(a=q)!=null?a:{notif_tracking:y}},[y,q]);var ja={onNavigate:m,passthroughProps:{initialTracePolicy:"comet.notifications",notification_id:(m=v)!=null?m:void 0,notificationTracking:p,ref:"notification"},preventLocalNavigation:(C||D)&&s!=null&&E!=null,productAttribution:{tap_point:"via_notification"},replace:(m=n)!=null?m:void 0,routeTarget:B?"content":(n=o)!=null?n:void 0,target:Boolean(r.www_url_should_open_in_blank_target)?"_blank":void 0,traceParams:d,url:(m=s)!=null?m:void 0},G=b("CometRelay").useRelayEnvironment(),ka="MAIN_SURFACE",H="unknown",I=b("useCometRouterDispatcher")();o=b("useScrollToNotif").useScrollToNotif(s);var la=o[0],J=o[1],K=J.current;n=j.useContext(b("CometFocusTableContext"));d=n.FocusCell;m=n.FocusRow;var ma=(o=d)!=null?o:j.Fragment,na=(n=m)!=null?n:j.Fragment;d=b("useCometConfirmationDialog")();var L=d[0];d[1];j.useLayoutEffect(function(){z.current!=null&&K&&(b("scrollIntoView")(z.current,{behavior:"auto",verticalAlign:"center"}),J.current=!1)},[K,J]);o=b("useCodedErrorDialog")(b("CometCrossProfileNotificationStrings").getCAAProfileSwitchErrorDialogTitle());var M=o[0],N=j.useCallback(function(){b("ProfilePlusCrossProfileNotificationFalcoEvent").log(function(){var a;return{event:"CONFIRM_SWITCHING",logged_in_user_id:(a=A)!=null?a:"",medium:"jewel",ndid:"",notif_id:(a=v)!=null?a:"",notif_type:(a=w)!=null?a:"",target_viewer_id:(a=F)!=null?a:"",target_viewer_type:(a=u==null?void 0:u.target_viewer_type)!=null?a:"",underlying_admin_id:(a=A)!=null?a:""}})},[A,u==null?void 0:u.target_viewer_type,v,w,F]),O=j.useCallback(function(){b("ProfilePlusCrossProfileNotificationFalcoEvent").log(function(){var a;return{event:"CANCEL_SWITCHING",logged_in_user_id:(a=A)!=null?a:"",medium:"jewel",ndid:"",notif_id:(a=v)!=null?a:"",notif_type:(a=w)!=null?a:"",target_viewer_id:(a=F)!=null?a:"",target_viewer_type:(a=u==null?void 0:u.target_viewer_type)!=null?a:"",underlying_admin_id:(a=A)!=null?a:""}})},[A,u==null?void 0:u.target_viewer_type,v,w,F]);m=b("useCometLazyDialog")(l);var P=m[0],oa=j.useCallback(function(){if(t!=null&&A!=null){i&&i();da.onReady(function(a){a.post(ca,babelHelpers["extends"]({},q,{notification_data:{alert_id:v,logger_context:h,to_user:A},ref:f?"notifications_route":"www_tab"}))});b("CometNotificationsMarkReadMutation")(G,{input:{is_comet:!0,notif_id:t,source:H}});if(s!=null&&E!=null)if(C){var a,c=function(a){b("promiseDone")(d.then(function(c){c=c.switchProfile;c(G,{profileId:a},{onCompleted:function(){b("goForceFullPageRedirectTo")(s)},onError:function(a){M(a)}})}))},d=aa.load();L({body:(a=b("CometCrossProfileNotificationStrings")).getCAAProfileSwitchDialogBody(E),cancel:a.getCAAProfileSwitchDialogCancelText(),confirm:a.getCAAProfileSwitchDialogConfirmText(),title:a.getCAAProfileSwitchDialogTitle(E)},function(){N();return c(F)},function(){O()})}else D&&P({additionalProfileId:F,additionalProfileName:E,adminId:A,notifId:v,notifType:w,onClose:function(){},url:s})}},[t,w,A,i,G,s,E,q,v,h,f,C,D,L,M,N,F,O,P]),Q=j.useCallback(function(){t!=null&&b("CometNotificationsMarkReadMutation")(G,{input:{environment:ka,is_comet:!0,notif_id:t,source:H}})},[G,t]),R=a;n=c==null?void 0:c.timestamp;d=e==null?void 0:e.uri;o=b("useMenuButtonVisibilityState")();var pa=o[0];m=o[1];var S=m.setListItemHovered,qa=m.setMenuBtnFocused,ra=m.setMenuBtnHovered,sa=m.setMenuOpened,T=x==="UNSEEN_AND_UNREAD"||x==="SEEN_BUT_UNREAD";a=j.useCallback(function(){I&&s!=null&&T&&b("qex")._("1590992")&&I.prefetchRouteQueries(s,{})},[I,T,s]);c=b("useCometPreloader")("button",a,a);var U=c[0],V=c[1],ta=j.useCallback(function(){S(!1),V()},[V,S]),ua=j.useCallback(function(a){S(!0),U(a)},[U,S]);e=b("useNotificationsImpressionLogger")({actorId:A,loggerContext:h,notifId:v,trackingData:p});var W=e[0],va=e[1],wa=j.useContext(b("CometNotificationsListItemSeenContext")),X=b("useVisibilityObserver")({onVisible:function(){b("gkx")("1587829")||wa(t)}}),xa=j.useMemo(function(){if(h==="www_tab"||h==="beeper")return b("mergeRefs")(W,z,X);else return z},[X,h,W]),Y=R==null?void 0:(o=R.text)==null?void 0:o.length;j.useEffect(function(){Y!=null&&Y>ba&&k({length:Y,notification_type:w})},[w,Y]);if(t==null||R==null||d==null||x==null||n==null)return null;m=new Date(n*1e3);var Z=x==="SEEN_AND_READ";c=(a=r.icon_data)==null?void 0:a.reaction_type;e=(p=r.icon_data)==null?void 0:p.glyph_name;o=b("cometNotificationsListItemIcon")(e,c);n=o!=null?{backgroundColor:"transparent",icon:j.jsx(b("TetraIcon.react"),{color:"white",icon:o}),size:28,type:"activityBadge"}:null;var $=j.jsx(b("CometNotificationsTimestamp.react"),{date:m,seenAndRead:Z}),ya={addOn:n,shape:"circle",size:56,source:{uri:d},type:"profile-photo"},za={override_component:j.jsx(b("CometNotificationsListItemAttachment.react"),{date:m,notification:r,notificationsTimestamp:$,onPress:Q}),type:"designOverride_Notifications_bottomAddOn"};x=r==null?void 0:r.is_hidden;return x===!0?null:j.jsx(b("FocusWithinHandler.react"),{children:function(a,c){return j.jsx(na,{children:j.jsxs("div",{className:"l9j0dhe7",onMouseEnter:ua,onMouseLeave:ta,ref:xa,role:"row",children:[va,j.jsx(b("TetraAccessoryListCell.react"),{addOnBottom:za,addOnPrimary:ya,addOnSecondary:{addOn:Z?j.jsx("div",{className:"fwizqjfa cyypbtt7"}):j.jsx(b("CometPressable.react"),{expanding:!0,onPress:Q,overlayDisabled:!0,role:"none",testid:void 0,children:j.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"},body:j.jsxs(j.Fragment,{children:[Z?null:j.jsx("div",{className:"dxrwds1f pmk7jnqg g0aa4cga q45zohi1",children:g._("Unread")}),j.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:ea,textWithEntities:R,transforms:fa})]}),bodyColor:Z?"secondary":"primary",bodyLineLimit:3,linkProps:ja,meta:w!=="friend"&&w!=="page_invite"?$:null,onPress:oa,selected:la&&ia,testid:void 0}),w!=="friend"&&w!=="page_invite"?j.jsx(ma,{children:j.jsx(b("CometNotificationsDropdownMenuButton.react"),{hidden:B||!(a&&c)&&!pa,notification:r,onFocusChange:qa,onHoverChange:ra,onMenuStateChange:sa,userId:A})}):null]})})}})}c=j.memo(a);e.exports=c}),null);