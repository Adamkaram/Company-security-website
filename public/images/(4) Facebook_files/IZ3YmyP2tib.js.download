if (self.CavalryLogger) { CavalryLogger.start_js(["BjgjU"]); }

__d("CometTahoeSidePaneAttachmentRenderer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometTahoeSidePaneAttachmentRenderer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"fundraiser_to_charity",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometTahoeSidePaneAttachmentRenderer_video_fundraiser",fragmentName:"CometTahoeFundraiserPersonToCharityComponent_fundraiser",fragmentPropName:"fundraiser",kind:"ModuleImport"}],type:"FundraiserPersonToCharity",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometTahoeSidePaneAttachmentRenderer_video_fundraiser",fragmentName:"CometTahoeFundraiserForStoryComponent_fundraiser",fragmentPropName:"fundraiser",kind:"ModuleImport"}],type:"FundraiserForStory",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"JoinGroupCTA",kind:"LinkedField",name:"join_group_cta",plural:!1,selections:[{documentName:"CometTahoeSidePaneAttachmentRenderer_video_join_group_cta",fragmentName:"CometTahoeVideoContextSectionJoinGroupCTA_join_group_cta",fragmentPropName:"join_group_cta",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("UFI2FeedbackReactMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"detection_analytics_enabled",storageKey:null},d=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],e={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"UFI2FeedbackReactMutation",selections:[{alias:null,args:b,concreteType:"FeedbackReactResponsePayload",kind:"LinkedField",name:"feedback_react",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2ReactionActionLink_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2CommentTopReactions_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2CommentTopReactionsWrapper_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback"}],storageKey:null},c],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UFI2FeedbackReactMutation",selections:[{alias:null,args:b,concreteType:"FeedbackReactResponsePayload",kind:"LinkedField",name:"feedback_react",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:d,kind:"ScalarField",name:"can_viewer_react",storageKey:null},{alias:null,args:d,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[e,f,g],storageKey:null},f,{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[g,f,h],storageKey:null},{alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[e],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[f],storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[e,f,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,h,f],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null}],storageKey:null},c],storageKey:null}]},params:{id:"2904260529628528",metadata:{},name:"UFI2FeedbackReactMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("UFI2FeedbackReactMutation_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{mask:!1},name:"UFI2FeedbackReactMutation_feedback",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:a,storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:a,storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometTahoeSidePaneAttachmentRenderer.react",["CometErrorBoundary.react","CometRelay","React","gkx","CometTahoeSidePaneAttachmentRenderer_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometTahoeSidePaneAttachmentRenderer_video.graphql"),a.video);var c=[];(a==null?void 0:a.fundraiser_to_charity)!=null&&b("gkx")("1553930")&&c.push({id:"fundraiser_to_charity",node:a.fundraiser_to_charity,props:{fundraiser:a==null?void 0:a.fundraiser_to_charity,videoID:a==null?void 0:a.id}});(a==null?void 0:a.join_group_cta)!=null&&b("gkx")("1692630")&&c.push({id:"join_group_cta",node:a.join_group_cta,props:{joinGroupCta:a.join_group_cta}});return c.length===0?null:h.jsx(b("CometErrorBoundary.react"),{fallback:function(){},children:c.map(function(a){return h.jsx(b("CometRelay").MatchContainer,{match:a.node,props:a.props},a.id)})})}}),null);
__d("addFocusEvents",["Deferred","Event","React","SubscriptionList","promiseDone"],(function(a,b,c,d,e,f){var g=b("React"),h=g.Component,i;a=function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}var e=c.prototype;e.componentDidMount=function(){var a=this;if(!i){var c,d;i=new(b("SubscriptionList"))(function(){c=b("Event").listen(window,"blur",function(){i&&i.fireCallbacks(!0),d&&d.remove(),d=b("Event").listen(document.documentElement,"focusin",function(){i&&i.fireCallbacks(!1),d&&d.remove(),d=null})})},function(){c&&c.remove(),d&&d.remove(),c=null,d=null,i=null})}this.subscription=i.add(function(b){a.locked=b})};e.componentWillUnmount=function(){this.subscription&&this.subscription.remove()};e.onClick=function(a){this.props.onClick&&this.props.onClick(a),this.deferred&&this.deferred.resolve(this.props.onMouseFocus)};e.onFocus=function(a){var c=this;this.deferred&&(this.deferred.reject(),this.deferred=null);if(this.locked)return;this.deferred=new(b("Deferred"))();b("promiseDone")(this.deferred.getPromise(),function(b){b&&b(a),c.deferred=null},function(){})};e.onKeyUp=function(a){this.props.onKeyUp&&this.props.onKeyUp(a),this.deferred&&this.deferred.resolve(this.props.onKeyboardFocus)};e.render=function(){var b=this.props,c=b.forwardedRef;b.onKeyboardFocus;b.onMouseFocus;b=babelHelpers.objectWithoutPropertiesLoose(b,["forwardedRef","onKeyboardFocus","onMouseFocus"]);return g.jsx(a,babelHelpers["extends"]({},b,{onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onKeyUp:this.onKeyUp.bind(this),ref:c}))};return c}(h);return g.forwardRef(function(a,b){return g.jsx(c,babelHelpers["extends"]({},a,{forwardedRef:b}))})};c=a;e.exports=c}),null);
__d("UFIReactionsAnimatedKeyframesIcon.react",["Keyframes.react","React","UFIReactionsKeyframesAssets","UFIReactionTypes"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.supportsReaction=function(a){return!!b("UFIReactionsKeyframesAssets").reactions[a]};var d=c.prototype;d.render=function(){var a=this.props,c=a.animate,d=a.className,e=a.maxSize;a=a.reactionID;var f=b("UFIReactionsKeyframesAssets").initialProgress[a]||0,h=b("UFIReactionsKeyframesAssets").reactions[a];return h?g.jsx(b("Keyframes.react"),{projectName:"feedback_reactions",assetName:b("UFIReactionTypes").reactions[a].name,className:d,source:h,width:e,height:e,playing:c,initialProgress:f,resetOnPause:!0}):g.jsx("div",{style:{width:e,height:e}})};return c}(g.PureComponent);e.exports=a}),null);
__d("getVendorPrefixedEventName",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;c["ms"+a]="MS"+b;c["O"+a]="o"+b.toLowerCase();return c}var g={animationend:a("Animation","AnimationEnd"),animationiteration:a("Animation","AnimationIteration"),animationstart:a("Animation","AnimationStart"),transitionend:a("Transition","TransitionEnd")},h={},i={};b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(i=document.createElement("div").style,"AnimationEvent"in window||(delete g.animationend.animation,delete g.animationiteration.animation,delete g.animationstart.animation),"TransitionEvent"in window||delete g.transitionend.transition);function c(a){if(h[a])return h[a];else if(!g[a])return a;var b=g[a];for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)&&c in i)return h[a]=b[c];return""}e.exports=c}),null);
__d("ReactTransitionEvents",["fbjs/lib/ExecutionEnvironment","getVendorPrefixedEventName"],(function(a,b,c,d,e,f){"use strict";var g=[];function a(){var a=b("getVendorPrefixedEventName")("animationend"),c=b("getVendorPrefixedEventName")("transitionend");a&&g.push(a);c&&g.push(c)}b("fbjs/lib/ExecutionEnvironment").canUseDOM&&a();function h(a,b,c){a.addEventListener(b,c,!1)}function i(a,b,c){a.removeEventListener(b,c,!1)}c={addEndEventListener:function(a,b){if(g.length===0){window.setTimeout(b,0);return}g.forEach(function(c){h(a,c,b)})},removeEndEventListener:function(a,b){if(g.length===0)return;g.forEach(function(c){i(a,c,b)})}};e.exports=c}),null);
__d("UFIReactionsDialogLayerImpl.react",["csx","cx","invariant","BrowserSupport","CSS","DataStore","DOM","DOMQuery","Focus","Layer","Locale","Parent","React","ReactDOMComet","ReactTransitionEvents","RTLKeys","Style","SubscriptionsHandler","TabbableElements","Vector","ViewportBounds","cancelAnimationFrame","clearTimeout","ge","getElementPosition","getOverlayZIndex","memoize","requestAnimationFrameAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k="_1oxh",l="_2r6k",m="_2r6j",n=b("BrowserSupport").hasCSSAnimations(),o="_22uo",p="_6fqy",q=200,r={},s=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.updatePosition=function(){var a=this.getInsertParent(),c=this.getCausalElement();if(c==null)return!0;var d=b("Vector").getElementPosition(c),e=b("Vector").getElementPosition(a);d=d.sub(e);e=b("Vector").getElementDimensions(a).x;b("Locale").isRTL()&&(d.x=e-d.x);e=b("Vector").getViewportDimensions().x;var f=b("Vector").getElementDimensions(this.getContentRoot()).x;d.x=Math.min(d.x,e-f);b("Locale").isRTL()?r.right=d.x+"px":r.left=d.x+"px";r.top=d.y+"px";r.zIndex=this._getZIndex(c,a);e=this.getRoot();e!=null||i(0,4781);b("Style").apply(e,r);return!0};d._getZIndex=function(a,c){a=b("getOverlayZIndex")(a,c);var d=b("Parent").byClass(c,"fbPhotoSnowliftContainer"),e=d&&b("DOMQuery").scry(d,".stageWrapper")[0];e&&(a=Math.max(a,b("getOverlayZIndex")(e,d)));e=b("ge")("pagelet_sidebar");if(e){d=b("DOMQuery").scry(e,".fbChatSidebar")[0];e=b("DOMQuery").scry(c,"._13pa")[0];d&&e==null&&(a=Math.max(a,parseInt(b("Style").get(d,"z-index"),10)+1))}return a};d.getContentRoot=function(){return this.contentRoot};d._buildWrapper=function(a,c){b("CSS").addClass(c,"_49v-");this.contentRoot=c;a=document.createElement("div");b("CSS").addClass(a,"_1oxj");a.appendChild(c);return a};return a}(b("Layer"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.onTransitionHide=function(){b("ReactTransitionEvents").removeEndEventListener(e.layer.getContentRoot(),e.onTransitionHide),e.finishHide()};e.onTransitionShow=function(){var a=e.layer.getContentRoot();a!=null||i(0,4782);b("ReactTransitionEvents").removeEndEventListener(a,e.onTransitionShow);var c=b("requestAnimationFrameAcrossTransitions")(function(){b("CSS").removeClass(a,m)});e.handler.addSubscriptions({remove:function(){b("cancelAnimationFrame")(c)}})};e.onKeyDown=function(a){var c=a.keyCode;if(!e.props.shouldRenderDialog&&e.props.isScreenReader)return;if(c===b("RTLKeys").ESC||c===b("RTLKeys").RETURN||c===b("RTLKeys").SPACE||e.props.shouldRenderDialog!==!0&&c===b("RTLKeys").TAB){e.props.onLayerBlur&&e.props.onLayerBlur(a);if(e.props.shouldRenderDialog===!0)return;var d=e.root.current,f=b("TabbableElements").find(e.getContextualLayerParent()),g=null,h=[];c=c===b("RTLKeys").TAB&&a.shiftKey;for(var i=0;i<f.length;i++)if(f[i].tabIndex>-1){if(d.compareDocumentPosition(f[i])&4){g=f[i];break}c&&h.push(f[i])}h.length&&(g=h[h.length-1]);g&&(b("Focus").set(g),a.preventDefault(),a.stopPropagation())}};e.getGlobalContainer=b("memoize")(function(){return b("ge")("globalContainer")});e.onParentLayerHide=e.finishHide.bind(babelHelpers.assertThisInitialized(e));e.root=j.createRef();return e}var d=c.prototype;d.componentDidMount=function(){var a=this.root.current;this.layer=new s({causalElement:a,insertParent:a},document.createElement("div"));b("DOM").appendContent(a,this.layer.getRoot());this.handler=new(b("SubscriptionsHandler"))();this.props.onLayerBlur&&this.handler.addSubscriptions(this.layer.subscribe("blur",this.props.onLayerBlur));this.handler.addSubscriptions(this.layer.subscribe("beforeshow",this.beforeShow.bind(this)),this.layer.subscribe("aftershow",this.afterShow.bind(this)),this.layer.subscribe("starthide",this.startHide.bind(this)));this.isInDocument()&&this.forceUpdate()};d.componentDidUpdate=function(){this.layer&&this.layer.conditionShow(this.props.shown),this.props.onLayerRender&&this.props.onLayerRender()};d.componentWillUnmount=function(){if(this.layer){var a=this.layer.getContentRoot();b("ReactTransitionEvents").removeEndEventListener(a,this.onTransitionHide);b("ReactTransitionEvents").removeEndEventListener(a,this.onTransitionShow);this.handler.release();this.handler=null;this.layer.destroy();this.layer=null}};d.isInDocument=function(){var a=this.root.current;return a&&document.body.contains(a)};d.afterShow=function(){var a=this;this.root.current!=null&&b("CSS").removeClass(this.root.current,this.props.shouldRenderDialog===!0?"_8yj0":"accessible_elem");var c=this.layer.getContentRoot();c!=null||i(0,4783);var d=b("getElementPosition")(c).y,e=b("ViewportBounds").getTop();b("CSS").conditionClass(c,k,!!(d&&d<e));if(n){b("ReactTransitionEvents").addEndEventListener(c,this.onTransitionShow);b("CSS").addClass(c,o);b("CSS").addClass(c,p);b("CSS").addClass(c,m);var f=b("setTimeoutAcrossTransitions")(function(){a.props.setAnimatingDock(!1),b("CSS").removeClass(c,p)},q);this.handler.addSubscriptions({remove:function(){b("clearTimeout")(f)}})}if(this.props.shouldFocusOnShow()){d=b("TabbableElements").find(c)[0];d&&d.focus()}};d.beforeShow=function(){n&&this.props.setAnimatingDock(!0);var a=this.getContextualLayerParent();!this.props.shouldRenderDialog&&this.props.isScreenReader?this.layer.setInsertParent(this.layer.getCausalElement()):a!==this.layer.getInsertParent()&&(this.layer.setInsertParent(a),this.setParentLayerSubscription(a))};d.setParentLayerSubscription=function(a){if(a!==this.getGlobalContainer()){this.parentLayerSubscription&&this.parentLayerSubscription.unsubscribe();this.parentLayer=null;return}a=a;var c=null;while(a!==null){c=b("DataStore").get(a,"layer");if(c)break;a=a.parentNode}if(c&&c!==this.parentLayer){this.parentLayerSubscription&&this.parentLayerSubscription.unsubscribe();a=c.subscribe("hide",this.onParentLayerHide);this.handler.addSubscriptions(a);this.parentLayerSubscription=a;this.parentLayer=c}};d.startHide=function(){if(n&&this.isInDocument()){var a=this.layer.getContentRoot();a!=null||i(0,4784);b("ReactTransitionEvents").addEndEventListener(a,this.onTransitionHide);b("CSS").addClass(a,l)}else this.finishHide();return!1};d.finishHide=function(){this.root.current!=null&&b("CSS").addClass(this.root.current,this.props.shouldRenderDialog===!0?"_8yj0":"accessible_elem");var a=this.layer.getContentRoot();a!=null||i(0,4785);n&&(b("CSS").removeClass(a,k),b("CSS").removeClass(a,l),b("CSS").removeClass(a,o));this.layer.setInsertParent(this.layer.getCausalElement());this.layer.finishHide()};d.getContextualLayerParent=function(){var a=this.root.current;if(a instanceof Element){a=b("Parent").byClass(a,"uiContextualLayerParent");if(a instanceof HTMLElement)return a}return document.body};d.renderLayer=function(){if(!this.layer)return null;var a=this.layer.getContentRoot();if(!a)return null;var c=this.props,d=c.isDarkBackground;c.isScreenReader;var e=c.noBackground;c.onLayerBlur;c.onLayerRender;var f=c.semiTransparentBackground;c.setAnimatingDock;c.shouldFocusOnShow;c.shouldRenderDialog;c.shown;c=babelHelpers.objectWithoutPropertiesLoose(c,["isDarkBackground","isScreenReader","noBackground","onLayerBlur","onLayerRender","semiTransparentBackground","setAnimatingDock","shouldFocusOnShow","shouldRenderDialog","shown"]);return b("ReactDOMComet").createPortal(j.jsxs("div",babelHelpers["extends"]({},c,{className:"_1oxk always-enable-animations",onKeyDown:this.onKeyDown,children:[this.props.children,j.jsx("div",{className:"_41nt"+(d?" _3_jc":"")+(f?" _6la8":"")+(e?" hidden_elem":""),style:{height:this.props.height}})]})),a)};d.render=function(){return j.jsx("div",{className:"_2r6l"+(this.props.shouldRenderDialog!==!0?" accessible_elem":"")+(this.props.shouldRenderDialog===!0?" _8yj0":""),ref:this.root,children:this.renderLayer()})};return c}(j.Component);e.exports=a}),null);
__d("UFIReactionsMenuImpl.react",["cx","fbt","CometReactionIcon.react","CometTrackingNodeProvider.react","Event","FocusRegion.react","React","RTLKeys","SubscriptionsHandler","UFIReactionsDialogLayerImpl.react","UFIReactionTypes","addFocusEvents","focusScopeQueries","gkx","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=8,k=44,l=39,m=b("UFIReactionTypes").reactions,n=h._("Reactions"),o=b("addFocusEvents")("span");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.selectedRef=i.createRef();d.$2=function(){d.subscriptionsHandler!=null&&(d.subscriptionsHandler.release(),d.subscriptionsHandler=null)};d.focusSelected=function(){var a=d.selectedRef.current;a&&a instanceof HTMLElement&&a.focus()};d.onLayerRender=function(){d.props.shouldFocusOnShow()&&d.focusSelected()};d.onKeyDown=function(a){var c=a.keyCode;switch(c){case b("RTLKeys").RETURN:case b("RTLKeys").SPACE:a.preventDefault();var e=d.state.supportedReactions[d.state.selectedIndex];d.props.initialReaction===e&&(e=b("UFIReactionTypes").NONE);e!==null&&e!==void 0&&d.props.onReactionClick&&d.props.onReactionClick(e,a);break;case b("RTLKeys").getLeft():case b("RTLKeys").getRight():if(d.props.shouldRenderDialog)break;a.preventDefault();d.setState(function(a){return{selectedIndex:Math.max(0,Math.min(a.selectedIndex+(c===b("RTLKeys").getLeft()?-1:1),a.supportedReactions.length-1))}},d.focusSelected);break}};d.setAnimatingDock=function(a){d.setState({isAnimatingDock:a})};var e=c.supportedReactions.filter(function(a){return m[a]!=null}),f=c.shouldFocusOnShow()?Math.max(0,e.indexOf(c.initialReaction)):-1;d.state={isAnimatingDock:!1,prevPropsShown:c.shown,shouldRenderMenu:c.shown,selectedIndex:f,supportedReactions:e};d.hasAnimatedIcons=b("gkx")("991383");d.animatedIconsUsePackage=b("gkx")("991384");return d}c.getDerivedStateFromProps=function(a,b){var c=a.supportedReactions.filter(function(a){return m[a]});if((!b.shouldRenderMenu||a.shouldRenderDialog&&!b.prevPropsShown)&&a.shown){var d=a.shouldRenderDialog&&a.shouldFocusOnShow()?Math.max(0,c.indexOf(a.initialReaction)):b.selectedIndex;return{selectedIndex:d,shouldRenderMenu:!0,prevPropsShown:a.shown,supportedReactions:c}}return!a.shown&&b.prevPropsShown?{selectedIndex:-1,prevPropsShown:a.shown,supportedReactions:c}:{supportedReactions:c,prevPropsShown:a.shown}};var d=c.prototype;d.componentDidMount=function(){this.props.shouldFocusOnShow()&&this.focusSelected(),this.props.isLongPressing&&this.$1()};d.componentWillUnmount=function(){this.$2()};d.componentDidUpdate=function(a){this.props.shouldFocusOnShow()&&!a.shouldFocusOnShow()&&this.focusSelected(),this.props.isLongPressing&&!a.isLongPressing?this.$1():!this.props.isLongPressing&&a.isLongPressing&&this.$2()};d.$1=function(){var a=this,c,d;this.$2();this.subscriptionsHandler=new(b("SubscriptionsHandler"))();this.subscriptionsHandler.addSubscriptions((c=b("Event")).listen(document.documentElement,"touchmove",function(b){b.preventDefault();var c=b.touches[0];c=document.elementFromPoint(c.clientX,c.clientY);c&&!c.getAttribute("data-reaction")&&c.parentElement&&(c=c.parentElement);c=c?parseInt(c.getAttribute("data-reaction"),10)||null:null;c!==d&&(d&&a.onReactionMouseLeave(d,b),c&&a.onReactionMouseEnter(c,b),d=c)}),c.listen(document.documentElement,"mousemove",function(b){var c=document.elementFromPoint(b.clientX,b.clientY);if(c!=null){!c.getAttribute("data-reaction")&&c.parentElement&&(c=c.parentElement);c=parseInt(c.getAttribute("data-reaction"),10)||null;c!==d&&(d&&a.onReactionMouseLeave(d,b),c&&a.onReactionMouseEnter(c,b),d=c)}}),c.listen(document.documentElement,"touchcancel",this.$2),c.listen(document.documentElement,"touchend",function(b){a.$2(),d&&a.onReactionClick(d,b)}),c.listen(document.documentElement,"mouseup",function(b){a.$2(),d&&a.props.shown&&a.onReactionClick(d,b)}))};d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onDragStart=function(a){a.preventDefault()};d.onKeyboardFocus=function(a,b){this.setState({selectedIndex:a}),this.props.onFocus&&this.props.onFocus(b)};d.onReactionClick=function(a,b,c,d){c===void 0&&(c=null),d===void 0&&(d=null),b.preventDefault(),!this.state.isAnimatingDock&&this.props.onReactionClick!=null&&this.props.onReactionClick(a,b,c,d)};d.onReactionMouseEnter=function(a,b){(!this.props.shouldRenderDialog||!this.props.shouldFocusOnShow())&&this.setState(function(b){return{selectedIndex:b.supportedReactions.indexOf(a)}}),this.props.onReactionMouseEnter&&this.props.onReactionMouseEnter(a)};d.onReactionMouseLeave=function(a,b){(!this.props.shouldRenderDialog||!this.props.shouldFocusOnShow())&&this.setState({selectedIndex:-1}),this.props.onReactionMouseLeave&&this.props.onReactionMouseLeave(a)};d.onCloseFocus=function(){this.props.shouldRenderDialog&&this.setState({selectedIndex:-1})};d.render=function(){var a=this,c=this.state.selectedIndex,d=this.state.supportedReactions.map(function(d,e){var f=m[d].display_name,g=a.onReactionClick.bind(a,d),h=Math.max(0,a.state.supportedReactions.indexOf(a.props.initialReaction))===e,j=a.props.icon,k;if(a.hasAnimatedIcons&&j&&j.supportsReaction(d)){var n=!!a.props.allowAnimationPlayback&&a.props.shown;k=!0;j=i.jsx(j,{animate:n,className:"_1ef0",selectedIndex:a.state.selectedIndex,maxSize:l,reactionID:d})}else k=!1,j=i.jsx(b("CometReactionIcon.react"),{reactionType:d,size:48});return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:5,children:i.jsx(o,{"aria-pressed":a.props.initialReaction===d,"aria-label":f,className:"_iuw"+(c===e?" _iuy":""),"data-testid":void 0,onClick:g,onDragStart:a.onDragStart,onKeyboardFocus:a.onKeyboardFocus.bind(a,e),onMouseUp:a.props.onReactionMouseUp,onMouseDown:a.props.onReactionMouseDown,onMouseEnter:a.onReactionMouseEnter.bind(a,d),onMouseLeave:a.onReactionMouseLeave.bind(a,d),onTouchStart:a.onDragStart,onTouchEnd:g,ref:c===e?a.selectedRef:null,role:"button",tabIndex:a.props.shouldRenderDialog||h&&(!a.props.shown||c===-1||c===e)?0:-1,children:i.jsx("div",{className:"_39m"+(k?" _1ef2":""),"data-reaction":d,children:i.jsxs("div",{className:"_39n",children:[j,i.jsx("div",{className:"_d6l",children:i.jsx("div",{className:"_4sm1",children:f})})]})})})},"reaction_"+d)});if(!this.state.shouldRenderMenu)return null;d=i.jsxs("div",{className:b("joinClasses")("_iu-"+(this.props.shouldFocusOnShow()?" _5wkt":"")+" _628b",this.props.className),"data-testid":void 0,onKeyDown:this.onKeyDown,"aria-label":n,role:this.props.shouldRenderDialog?"dialog":"toolbar",children:[d,this.props.shouldRenderDialog&&b("gkx")("1290854")?i.jsx("div",{className:"accessible_elem",children:i.jsx("button",{onClick:this.props.onBlur,onFocus:this.onCloseFocus.bind(this),type:"button",children:h._("Close reactions")})}):null]});return this.props.shouldRenderInline===!0?d:i.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:this.props.shouldRenderDialog===!0&&this.props.shouldFocusOnShow()?b("focusScopeQueries").focusableScopeQuery:null,autoRestoreFocus:this.props.shouldRenderDialog===!0,recoverFocusQuery:this.props.shouldRenderDialog===!0?b("focusScopeQueries").focusableScopeQuery:null,containFocusQuery:this.props.shouldRenderDialog===!0&&this.props.shouldFocusOnShow()?b("focusScopeQueries").focusableScopeQuery:null,children:i.jsx(b("UFIReactionsDialogLayerImpl.react"),{height:k+j,setAnimatingDock:this.setAnimatingDock,isDarkBackground:this.props.isDarkBackground,isScreenReader:this.props.isScreenReader,onLayerBlur:this.props.onBlur,onLayerRender:this.onLayerRender,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,noBackground:this.props.noBackground,shouldFocusOnShow:this.props.shouldFocusOnShow,shouldRenderDialog:this.props.shouldRenderDialog,semiTransparentBackground:this.props.semiTransparentBackground,shown:this.props.shown,children:d})})};return c}(i.Component);e.exports=a}),null);
__d("UFIReactionsMenuWithAnimatedIcons.react",["cx","React","UFIReactionsAnimatedKeyframesIcon.react","UFIReactionsMenuImpl.react","createCancelableFunction","joinClasses","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("requireDeferred")("KeyframesEnvironment");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={allowAnimationPlayback:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;!this.state.allowAnimationPlayback&&i.getModuleIfRequired()!=null&&(this.$1=b("createCancelableFunction")(function(){a.setState({allowAnimationPlayback:!0})}),i.onReady(function(c){b("promiseDone")(c.whenRenderLoopHasBeenStableOnce(),a.$1)}))};d.componentWillUnmount=function(){this.$1&&(this.$1.cancel(),this.$1=null)};d.render=function(){var a=b("joinClasses")("_1ef3",this.props.className);return h.jsx(b("UFIReactionsMenuImpl.react"),babelHelpers["extends"]({allowAnimationPlayback:this.state.allowAnimationPlayback},this.props,{className:a,icon:b("UFIReactionsAnimatedKeyframesIcon.react"),children:this.props.children}))};return c}(h.PureComponent);e.exports=a}),null);
__d("UFI2ReactionsMenu",["requireCond","cr:682215"],(function(a,b,c,d,e,f){"use strict";a=b("cr:682215");e.exports=a}),null);
__d("UFI2FeedbackReactMutation",["invariant","Bootloader","ChannelClientID","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","requireCond","UFIODSLogger","UFIReactionTypes","arrayStableSort","cr:1088250","setTimeoutAcrossTransitions","UFI2FeedbackReactMutation_feedback.graphql","UFI2FeedbackReactMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";f.commit=a;var h,i,j=b("RelayRuntime").ConnectionHandler,k=b("RelayRuntime").applyOptimisticMutation,l=b("UFIReactionTypes").ordering,m=2,n=3e3,o=b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),1);h!==void 0?h:h=b("UFI2FeedbackReactMutation_feedback.graphql");var p=i!==void 0?i:i=b("UFI2FeedbackReactMutation.graphql");function a(a){var c=a.actorID,d=a.environment,e=a.feedbackArg,f=a.input,h=a.useDefaultActor,i=f.feedback_source,j=f.feedback_reaction,k=(e=e.associated_video)==null?void 0:e.id;j!==0&&k!=null&&b("Bootloader").loadModules(["CreateLivingRoomActionLinkStore","LivingRoomCreationSource"],function(a,b){a.activateLivingRoomCTAForVideo(k,b.FEED_CTA_ON_REACT)},"UFI2FeedbackReactMutation");e={input:babelHelpers["extends"]({},f,{actor_id:c,feedback_source:i!=null?b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),i):void 0,session_id:b("ChannelClientID").getID()}),useDefaultActor:h};c=function(a){var c=a.get(f.feedback_id);if(c==null){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f.feedback_id).warn("UFI2FeedbackReactMutation: Could not find feedback in Relay store.");return}c.setValue(!0,"should_show_top_reactions");var d=r(a,f.feedback_id,c),e=c.getLinkedRecord("viewer_feedback_reaction_info",{use_default_actor:h}),i=e?e.getValue("key")||0:0;typeof i==="number"||g(0,3027);var k=c.getLinkedRecord("top_reactions",{orderby:["COUNT_DESC","REACTION_TYPE"]});if(!k){var l="client:top_reactions:"+f.feedback_id;k=a.create(l,"TopReactionsConnection")}t(a,k,j,i);var m;if(j===0){if(e!==null){l=d.getValue("count");k=typeof l==="number"?l:1;m=k-1}c.setValue(null,"viewer_feedback_reaction_info",{use_default_actor:h})}else{if(e===null){i=d.getValue("count");l=typeof i==="number"?i:0;m=l+1}e=s(a,j);c.setLinkedRecord(e,"viewer_feedback_reaction_info",{use_default_actor:h})}m!=null&&(d.setValue(m,"count"),d.setValue(m===0,"is_empty"));k=d.getValue("count_reduced");if(parseInt(k,10).toString()===k){i=d.getValue("count");typeof i==="number"&&d.setValue(i.toString(),"count_reduced")}};i={mutation:p,optimisticUpdater:c,variables:e};return q(d,i,c,0,f,a.onError)}function q(a,c,d,e,f,g){var h=b("RelayModern").commitMutation(a,babelHelpers["extends"]({},c,{onCompleted:function(a){a=c==null?void 0:(a=c.variables)==null?void 0:(a=a.input)==null?void 0:a.feedback_source;var d=Math.min(e+1,3);d=""+d+(e>=d?"+":"");a===o&&b("UFIODSLogger").bump("reaction.newsfeed.mutation.attempt."+d,"relay");b("UFIODSLogger").bump("reaction.mutation.attempt."+d,"relay");b("cr:1088250")&&b("cr:1088250")(f)},onError:function(i){if(i.name==="GraphQLError")return g(i);h=k(a,babelHelpers["extends"]({},c,{optimisticUpdater:d}));if(e>=m)return g(i);b("setTimeoutAcrossTransitions")(function(){h&&h.dispose(),h=q(a,c,d,e+1,f,g)},n)}}));return{dispose:function(){h&&h.dispose(),h=null}}}function r(a,c,d){var e=d.getLinkedRecord("reactors");if(!e){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",c).warn("Expected Feedback record proxy to have a reactors connection");c="client:reactors:"+c;e=a.get(c)||a.create(c,"ReactorsOfContentConnection");e.setValue(0,"count");e.setValue("0","count_reduced");e.setValue(!0,"is_empty");d.setLinkedRecord(e,"reactors")}return e}function s(a,c){c!==0||g(0,3028);var d="client:reaction_info:"+c,e=a.get(d);if(!e){e=a.create(d,"FeedbackReactionInfo");e.setValue(c,"key");a=b("UFIReactionTypes").reactions[c];a||g(0,3029,c);e.setValue(a.display_name,"localized_name");e.setValue(a.name.toUpperCase(),"reaction_type")}return e}function t(a,c,d,e){var f=(c.getLinkedRecords("edges")||[]).map(function(a){if(!a)return null;var b=a.getLinkedRecord("node"),c=a.getValue("reaction_count")||0,d=b&&b.getValue("key")||0;typeof c==="number"&&typeof d==="number"||g(0,3027);return b&&c!==0&&d!==0?{count:c,edge:a,key:d}:null}).filter(Boolean);if(e){var h=f.find(function(a){return a.key===e});h&&h.count--}if(d){h=f.find(function(a){return a.key===d});if(!h){var i=s(a,d);a=j.createEdge(a,c,i,"TopReactionsEdge");h={count:0,edge:a,key:d};f.push(h)}h.count++}i=b("arrayStableSort")(f,function(a,b){return b.count-a.count||l.indexOf(a.key)-l.indexOf(b.key)}).filter(function(a){return a.count!==0}).map(function(a){var b=a.edge;a=a.count;b.setValue(a,"reaction_count");b.setValue((a=b.getValue("reaction_count_reduced"))!=null?a:"","reaction_count_reduced");return b});c.setLinkedRecords(i,"edges")}}),null);